{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/Projects/hydroforce/signature-construction/src/app/TextType.tsx"],"sourcesContent":["\"use client\";\n\nimport { ElementType, useEffect, useRef, useState, createElement, useMemo, useCallback } from \"react\";\nimport { gsap } from \"gsap\";\nimport \"./TextType.css\";\n\ninterface TextTypeProps {\n  className?: string;\n  showCursor?: boolean;\n  hideCursorWhileTyping?: boolean;\n  cursorCharacter?: string | React.ReactNode;\n  cursorBlinkDuration?: number;\n  cursorClassName?: string;\n  text: string | string[];\n  as?: ElementType;\n  typingSpeed?: number;\n  initialDelay?: number;\n  pauseDuration?: number;\n  deletingSpeed?: number;\n  loop?: boolean;\n  textColors?: string[];\n  variableSpeed?: { min: number; max: number };\n  onSentenceComplete?: (sentence: string, index: number) => void;\n  startOnVisible?: boolean;\n  reverseMode?: boolean;\n}\n\nconst TextType = ({\n  text,\n  as: Component = \"div\",\n  typingSpeed = 50,\n  initialDelay = 0,\n  pauseDuration = 2000,\n  deletingSpeed = 30,\n  loop = true,\n  className = \"\",\n  showCursor = true,\n  hideCursorWhileTyping = false,\n  cursorCharacter = \"|\",\n  cursorClassName = \"\",\n  cursorBlinkDuration = 0.5,\n  textColors = [],\n  variableSpeed,\n  onSentenceComplete,\n  startOnVisible = false,\n  reverseMode = false,\n  ...props\n}: TextTypeProps & React.HTMLAttributes<HTMLElement>) => {\n  const [displayedText, setDisplayedText] = useState(\"\");\n  const [currentCharIndex, setCurrentCharIndex] = useState(0);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [currentTextIndex, setCurrentTextIndex] = useState(0);\n  const [isVisible, setIsVisible] = useState(!startOnVisible);\n  const cursorRef = useRef<HTMLSpanElement>(null);\n  const containerRef = useRef<HTMLElement>(null);\n\n  const textArray = useMemo(() => (Array.isArray(text) ? text : [text]), [text]);\n\n  const getRandomSpeed = useCallback(() => {\n    if (!variableSpeed) return typingSpeed;\n    const { min, max } = variableSpeed;\n    return Math.random() * (max - min) + min;\n  }, [variableSpeed, typingSpeed]);\n\n  const getCurrentTextColor = () => {\n    if (textColors.length === 0) return \"#ffffff\";\n    return textColors[currentTextIndex % textColors.length];\n  };\n\n  useEffect(() => {\n    if (!startOnVisible || !containerRef.current) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsVisible(true);\n          }\n        });\n      },\n      { threshold: 0.1 }\n    );\n\n    observer.observe(containerRef.current);\n    return () => observer.disconnect();\n  }, [startOnVisible]);\n\n  useEffect(() => {\n    if (showCursor && cursorRef.current) {\n      gsap.set(cursorRef.current, { opacity: 1 });\n      gsap.to(cursorRef.current, {\n        opacity: 0,\n        duration: cursorBlinkDuration,\n        repeat: -1,\n        yoyo: true,\n        ease: \"power2.inOut\",\n      });\n    }\n  }, [showCursor, cursorBlinkDuration]);\n\n  useEffect(() => {\n    if (!isVisible) return;\n\n    let timeout: NodeJS.Timeout;\n\n    const currentText = textArray[currentTextIndex];\n    const processedText = reverseMode\n      ? currentText.split(\"\").reverse().join(\"\")\n      : currentText;\n\n    const executeTypingAnimation = () => {\n      if (isDeleting) {\n        if (displayedText === \"\") {\n          setIsDeleting(false);\n          if (currentTextIndex === textArray.length - 1 && !loop) {\n            return;\n          }\n\n          if (onSentenceComplete) {\n            onSentenceComplete(textArray[currentTextIndex], currentTextIndex);\n          }\n\n          setCurrentTextIndex((prev) => (prev + 1) % textArray.length);\n          setCurrentCharIndex(0);\n          timeout = setTimeout(() => {}, pauseDuration);\n        } else {\n          timeout = setTimeout(() => {\n            setDisplayedText((prev) => prev.slice(0, -1));\n          }, deletingSpeed);\n        }\n      } else {\n        if (currentCharIndex < processedText.length) {\n          timeout = setTimeout(\n            () => {\n              setDisplayedText(\n                (prev) => prev + processedText[currentCharIndex]\n              );\n              setCurrentCharIndex((prev) => prev + 1);\n            },\n            variableSpeed ? getRandomSpeed() : typingSpeed\n          );\n        } else if (textArray.length > 1) {\n          timeout = setTimeout(() => {\n            setIsDeleting(true);\n          }, pauseDuration);\n        }\n      }\n    };\n\n    if (currentCharIndex === 0 && !isDeleting && displayedText === \"\") {\n      timeout = setTimeout(executeTypingAnimation, initialDelay);\n    } else {\n      executeTypingAnimation();\n    }\n\n    return () => clearTimeout(timeout);\n  }, [\n    currentCharIndex,\n    displayedText,\n    isDeleting,\n    typingSpeed,\n    deletingSpeed,\n    pauseDuration,\n    textArray,\n    currentTextIndex,\n    loop,\n    initialDelay,\n    isVisible,\n    reverseMode,\n    variableSpeed,\n    onSentenceComplete,\n  ]);\n\n  const shouldHideCursor =\n    hideCursorWhileTyping &&\n    (currentCharIndex < textArray[currentTextIndex].length || isDeleting);\n\n  return createElement(\n    Component,\n    {\n      ref: containerRef,\n      className: `text-type ${className}`,\n      ...props,\n    },\n    <span\n      className=\"text-type__content\"\n      style={{ color: getCurrentTextColor() }}\n    >\n      {displayedText}\n    </span>,\n    showCursor && (\n      <span\n        ref={cursorRef}\n        className={`text-type__cursor ${cursorClassName} ${shouldHideCursor ? \"text-type__cursor--hidden\" : \"\"}`}\n      >\n        {cursorCharacter}\n      </span>\n    )\n  );\n};\n\nexport default TextType;\n"],"names":[],"mappings":"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","debugId":null}}]
}